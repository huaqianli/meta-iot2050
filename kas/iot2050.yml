#
# IoT2050 Base Configuration
# Minimal bootable system with hardware enablement only
#
# Copyright (c) Siemens AG, 2019-2025
#
# Authors:
#  Le Jin <le.jin@siemens.com>
#  Li Hua Qian <huaqian.li@siemens.com>
#
# SPDX-License-Identifier: MIT
#

header:
  version: 14

build_system: isar
distro: iot2050-debian
target: iot2050-image-base
machine: iot2050

defaults:
  repos:
    patches:
      repo: meta-iot2050

repos:
  meta-iot2050:
    layers:
      meta:

  isar:
    url: https://github.com/ilbers/isar
    commit: 8e3122249a52db470efb32b92ed9c44e4b758712
    layers:
      meta:

  cip-core:
    url: https://gitlab.com/cip-project/cip-core/isar-cip-core.git
    commit: bc9a063e6b7b7663e0de0b412ac24e4f816ef253
    patches:
      bump-edk2-standalonemm:
        path: cip-core-patches/0001-edk2-standalonemm-rpmb-Bump-to-202505-and-refresh-cr.patch

local_conf_header:
  standard: |
    CONF_VERSION = "1"
  crossbuild: |
    ISAR_CROSS_COMPILE = "1"
  ccache: |
    USE_CCACHE = "1"
  compatsupport: |
    ISAR_ENABLE_COMPAT_ARCH = "1"
  root_password: |
    USERS += "root"
    USER_root[password] ??= "root"
    USER_root[flags] ??= "clear-text-password"